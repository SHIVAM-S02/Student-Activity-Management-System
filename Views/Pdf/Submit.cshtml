@model Student_Activity_Management_System.Models.NonAcademicInfo

@{
    ViewBag.Title = "Submit Non-Academic Information";
}

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>


    <a href="@Url.Action("NonAcademicData", "Pdf")" class="box">
        <h3>View Data</h3>
    </a>


<h2>Add Non-Academic Information</h2>


@using (Html.BeginForm("Submit", "Pdf", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.ValidationSummary(true)

    <div class="form-group">
        @Html.LabelFor(model => model.Year, "Year:")
        @Html.DropDownListFor(model => model.Year, new SelectList(new List<SelectListItem>
        {
            new SelectListItem { Text = "2021", Value = "2021" },
            new SelectListItem { Text = "2022", Value = "2022" },
            new SelectListItem { Text = "2023", Value = "2023" },
            new SelectListItem { Text = "2024", Value = "2024" }
        }, "Value", "Text"), new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Category, "Category:")
        @Html.DropDownListFor(model => model.Category, new SelectList(new List<SelectListItem>
        {
            new SelectListItem { Text = "Extra-Curricular", Value = "extra_curricular" },
            new SelectListItem { Text = "Co-Curricular", Value = "co_curricular" }
        }, "Value", "Text"), new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.Activity, "Activity:")
        @Html.DropDownListFor(model => model.Activity, new SelectList(new List<SelectListItem>
        {
            new SelectListItem { Text = "hii", Value = "2021" },
            new SelectListItem { Text = "hello", Value = "2022" },
            new SelectListItem { Text = "2023", Value = "2023" },
            new SelectListItem { Text = "2024", Value = "2024" }
        }, "Value", "Text"), new { @class = "form-control" })

    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.CertificatePath, "Certificate File:")
        <input type="file" name="certificate" />
    </div>

    <input type="submit" value="Submit" class="btn btn-primary" />

}


@section scripts {
    <script>
        // JavaScript to dynamically populate the "Activity" dropdown based on the "Category" selection
        $(function () {
            $('#Category').change(function () {
                var selectedCategory = $(this).val();
                var activities = {
                    extra_curricular: ["Sports", "Music", "Literature"],
                    co_curricular: ["Technack", "Colloseum", "Other"]
                };

                var activityDropdown = $('#Activity');
                activityDropdown.empty();

                if (selectedCategory in activities) {
                    $.each(activities[selectedCategory], function (index, activity) {
                        activityDropdown.append($('<option></option>').attr('value', activity).text(activity));
                    });
                }
            });
        });
    </script>
}
